<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <body>
        <form enctype="multipart/form-data" method="POST" th:action="@{/files/upload}" th:fragment="form">
            <div class="container">
                <div class="row" style="margin: 1em;">
                    <div class="col-sm-2">
                        <label for="fileUpload">Upload a New File:</label>
                    </div>
                    <div class="col-sm-6">
                        <input class="form-control-file" id="fileUpload" name="fileUpload" type="file">
                    </div>
                    <div class="col-sm-4">
                        <button class="btn btn-dark" type="submit">Upload</button>
                    </div>
                </div>
            </div>
        </form>

        <table class="table table-striped" id="fileTable" th:fragment="table">
            <thead>
            <tr>
                <th scope="col" style="width: 20%"></th>
                <th scope="col" style="width: 80%">File Name</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="file: ${fileList}">
                <td>
                    <a class="btn btn-success" target="_blank" th:href="@{/files/download?fileid={fileid}(fileid=${file.fileid})}">View</a>
                    <a class="btn btn-danger" th:href="@{/files/delete?fileid={fileid}(fileid=${file.fileid})}">Delete</a>
                </td>
                <th scope="row" th:text="${file.filename}" />
            </tr>
            </tbody>
        </table>
    </body>
</html>